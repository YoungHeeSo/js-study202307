<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* p{
            white-space: pre;
        } */
    </style>
</head>
<body>
    
    <pre></pre>

    <button id="btn">수정</button>

    <script>
        const fetchPost = ()=>{
            const id = 2;
            
            //서버에 수정요청(PUT, PATCH)
            // Put 전체수정
            // patch 일부수정
            const xhr = new XMLHttpRequest();
            xhr.open('PATCH', `http://localhost:5000/posts/${id}`);
    
            //서버로 보낼 데이터(payload)
            const newPost={
                id: 2,
                // title: '수정수정',
                body:'수수숫ㅅ정22222'
            };

            //payload를 보낼때는 js-> json으로 바꿔서 보내야함
            const payload = JSON.stringify(newPost);

            //보내는 데이터가 뭔지 요청 헤더에 적어야함
            xhr.setRequestHeader('content-type', 'application/json');
    
            //요청 송신: 데이터를 실어보냄
            xhr.send(payload);
        };

        document.getElementById('btn').addEventListener('click', fetchPost);
    
    </script>

</body>
</html>